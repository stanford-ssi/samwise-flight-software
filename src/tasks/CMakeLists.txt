if(BUILD_TESTS)
  # For test builds, build tasks needed for state tests
  add_subdirectory(adcs)
  add_subdirectory(beacon)
  add_subdirectory(blink)
  add_subdirectory(burn_wire)
  add_subdirectory(command)
  add_subdirectory(diagnostics)
  add_subdirectory(payload)
  add_subdirectory(print)
  add_subdirectory(radio)
  add_subdirectory(telemetry)
  add_subdirectory(watchdog)
else()
  # For normal builds, build all tasks
  add_subdirectory(adcs)
  add_subdirectory(beacon)
  add_subdirectory(blink)
  add_subdirectory(burn_wire)
  add_subdirectory(command)
  add_subdirectory(diagnostics)
  add_subdirectory(payload)
  add_subdirectory(print)
  add_subdirectory(radio)
  add_subdirectory(telemetry)
  add_subdirectory(watchdog)
endif()
